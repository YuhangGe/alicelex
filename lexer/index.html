<!DOCTYPE html>
<html>
	<head>
		<title>Alice-Lex</title>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<script src="js/jquery-1.5.1.js" type="text/javascript"></script>
		<script src="js/js-oo.js" type="text/javascript"></script>
		<script src="js/js-printf.js" type="text/javascript"></script>
		
		<script src="js/common.js" type="text/javascript"></script>
		<script src="js/input-manager.js" type="text/javascript"></script>
		<script src="js/nfa.js" type="text/javascript"></script>
		<script src="js/dfa.js" type="text/javascript"></script>
		<script src="js/nfa2dfa.js" type="text/javascript"></script>
		<script src="js/dfa-minmize.js" type="text/javascript"></script>
		
		<script src="js/automata.js" type="text/javascript"></script>
		<script src="js/regular.js" type="text/javascript"></script>
		
		<script src="js/lex/dfa2table_2.js" type="text/javascript"></script>
		<script src="js/lex/dfa2table.js" type="text/javascript"></script>
		
		<script src="js/lex/lex2dfa.js" type="text/javascript"></script>
		<script src="js/lex/dfa2str_2.js" type="text/javascript"></script>
		<script src="js/lex/dfa2lex.js" type="text/javascript"></script>
		<!--<script src="js/lex/output.js" type="text/javascript"></script>-->
		<script src="js/lex/output2.js" type="text/javascript"></script>
		<script src="js/str2nfa.js" type="text/javascript"></script>
		<script src="js/index.js" type="text/javascript"></script>
	</head>
	<body>
		<style type="text/css">
			* {
				margin: 0px;
				padding: 0px;
			}
			div {
				margin: 5px;
				min-height: 30px;
				font-size: 25px;
			}
			label {
				margin-right: 5px;
				display: inline-block;
				width: 100px;
			}
			div input[type="text"] {
				width: 250px;
				height: 100%;
				font-size: 20px;
				padding-left: 3px;
			}
			.success {
				color: green;
			}
			.failure {
				color: red;
			}
			i {
				color: #008000;
			}
			.c_float {
				float: left;
			}
		</style>
		<div class="c_float">
			<div>
				<label>RegExp:</label>
				<input type="text" id="regexp"/>
			</div>
			<div>
				<label>Text:</label>
				<input type="text" id="text" />
			</div>
			<div>
				<input type="button" onclick="doCheck();" value="Check" />
				<input type="button" onclick="doCheck2();" value="Test" />
			</div>
			<div id="result" class="success"></div>
			<div>
			<textarea id="lexSrc" cols="45" rows="10">		

INT \d+
FLOAT \d*\.\d+
NUM \-?({INT}|{FLOAT})

VALUE {NUM}|true|false|null|undefined

KEYWORD this|function|if|else|do|while|break|var|for|in|break|switch|case|return|new|continue

OBJECT Array|Object|RegExp|String|Int32Array|ArrayBuffer|Int16Array|Int8Array

ID [\w$][\w$\d]*

THREE_OPE "==="|">>>"
TWO_OPE "++"|"--"|"<="|">="|"=="|">>"|"<<"|"&&"|"||"
ONE_OPE "+"|"-"|"*"|"/"|"!"|"&"|"|"|"^"|"%"|"="

OPERATOR {THREE_OPE}|{TWO_OPE}|{ONE_OPE}

LINE_CMT "//"[.]*

BLOCK_CMT_B "/*"
BLOCK_CMT_E "*/"
BLOCK_CMT_C [.\n]

REG "/"[^*/][\S]*"/"g?i?m?

STR_A_B \"
STR_A_C [^"\n]
STR_A_D \\\"
STR_A_E \"|\n

STR_B_B \'
STR_B_C [^'\n]
STR_B_D \\\'
STR_B_E \'|\n

OTHER [.\n]

$$


VALUE {yycolor="value";}

KEYWORD {yycolor="keyword";}
OBJECT {yycolor="object";}
ID {yycolor="id";}

OPERATOR {yycolor="operator";}
LINE_CMT {yycolor="comment";}
BLOCK_CMT_B {yycolor="comment";this.yygoto(BLOCK_COMMENT);}
<BLOCK_COMMENT> BLOCK_CMT_E {yycolor="comment";this.yygoto(DEFAULT);}
<BLOCK_COMMENT> BLOCK_CMT_C {yycolor="comment";}
REG {yycolor="regexp";}
STR_A_B {yycolor="string";this.yygoto(STRING_A);}
<STRING_A> STR_A_C {yycolor="string";}
<STRING_A> STR_A_D {yycolor="string";}
<STRING_A> STR_A_E {yycolor="string";this.yygoto(DEFAULT);}
STR_B_B {yycolor="string";this.yygoto(STRING_B);}
<STRING_B> STR_B_C {yycolor="string";}
<STRING_B> STR_B_D {yycolor="string";}
<STRING_B> STR_B_E {yycolor="string";this.yygoto(DEFAULT);}
OTHER {yycolor="default";}

	</textarea>
</div>			<div>
				<input type="button" onclick="doLex('lex');" value="Lex"/>
				<input type="button" onclick="doLex('editor');" value="LexEditor" />
			</div>
		</div>
		<div class="c_float">
			<div>
				<textarea cols="45" rows="20" id="lexOutput"></textarea>
</div>			<div>
				<input type="button" value="Run" onclick="runLex();" />
			</div>
		</div>
		<div class="c_float">
			<div>
				<textarea cols="45" rows="20" id="runInput">
if then 323.42 42  a323 32abc /* djsld
*ds
**/

		</textarea>
</div>		</div>
	</body>
</html>